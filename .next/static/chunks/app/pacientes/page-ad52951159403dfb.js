(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{87439:function(e,t,s){Promise.resolve().then(s.bind(s,83815))},83815:function(e,t,s){"use strict";s.d(t,{default:function(){return p}});var a=s(57437),l=s(2265),n=s(99376),r=s(73247),i=s(90740),o=s(99397),c=s(32489),d=s(62869),u=s(95186),m=s(26815);function h(e){var t,s;let{isOpen:n,onClose:r,patient:i}=e,[o,h]=(0,l.useState)({name:(null==i?void 0:i.name)||"",cpf:(null==i?void 0:i.cpf)||"",email:(null==i?void 0:i.email)||"",phone:(null==i?void 0:i.phone)||"",birthDate:(null==i?void 0:i.birthDate)||"",emergencyContactName:(null==i?void 0:null===(t=i.emergencyContact)||void 0===t?void 0:t.name)||"",emergencyContactPhone:(null==i?void 0:null===(s=i.emergencyContact)||void 0===s?void 0:s.phone)||""}),[x,p]=(0,l.useState)(!1),f=async e=>{e.preventDefault(),p(!0);try{h({name:"",cpf:"",email:"",phone:"",birthDate:"",emergencyContactName:"",emergencyContactPhone:""}),r()}catch(e){console.error("Error saving patient:",e)}finally{p(!1)}},g=(e,t)=>{h(s=>({...s,[e]:t}))};return n?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:r}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Editar Paciente":"Novo Paciente"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(c.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("form",{onSubmit:f,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"name",children:"Nome Completo *"}),(0,a.jsx)(u.I,{id:"name",type:"text",value:o.name,onChange:e=>g("name",e.target.value),required:!0,placeholder:"Digite o nome completo"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"cpf",children:"CPF *"}),(0,a.jsx)(u.I,{id:"cpf",type:"text",value:o.cpf,onChange:e=>g("cpf",e.target.value),required:!0,placeholder:"000.000.000-00"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"email",children:"Email"}),(0,a.jsx)(u.I,{id:"email",type:"email",value:o.email,onChange:e=>g("email",e.target.value),placeholder:"email@exemplo.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"phone",children:"Telefone"}),(0,a.jsx)(u.I,{id:"phone",type:"tel",value:o.phone,onChange:e=>g("phone",e.target.value),placeholder:"(11) 99999-9999"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"birthDate",children:"Data de Nascimento"}),(0,a.jsx)(u.I,{id:"birthDate",type:"date",value:o.birthDate,onChange:e=>g("birthDate",e.target.value)})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contato de Emerg\xeancia"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"emergencyContactName",children:"Nome"}),(0,a.jsx)(u.I,{id:"emergencyContactName",type:"text",value:o.emergencyContactName,onChange:e=>g("emergencyContactName",e.target.value),placeholder:"Nome do contato de emerg\xeancia"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"emergencyContactPhone",children:"Telefone"}),(0,a.jsx)(u.I,{id:"emergencyContactPhone",type:"tel",value:o.emergencyContactPhone,onChange:e=>g("emergencyContactPhone",e.target.value),placeholder:"(11) 99999-9999"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,a.jsx)(d.z,{type:"button",variant:"outline",onClick:r,disabled:x,children:"Cancelar"}),(0,a.jsx)(d.z,{type:"submit",disabled:x,children:x?"Salvando...":i?"Atualizar":"Criar Paciente"})]})]})]})]}):null}let x=()=>(0,a.jsxs)("div",{className:"flex items-center p-4 space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-200 animate-pulse"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-slate-200 rounded w-3/4 animate-pulse"}),(0,a.jsx)("div",{className:"h-3 bg-slate-200 rounded w-1/2 animate-pulse"})]})]});function p(e){let{initialData:t}=e,s=(0,n.useRouter)(),c=(0,n.useSearchParams)(),[d,u]=(0,l.useTransition)(),[m,p]=(0,l.useState)(t.items),[f,g]=(0,l.useState)(t.nextCursor),[v,b]=(0,l.useState)(c.get("q")||""),[j,y]=(0,l.useState)(c.get("status")||"All"),[N,w]=(0,l.useState)(!1),C=function(e,t){let[s,a]=(0,l.useState)(e);return(0,l.useEffect)(()=>{let t=setTimeout(()=>{a(e)},500);return()=>{clearTimeout(t)}},[e,500]),s}(v,0);(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search);C?e.set("q",C):e.delete("q"),j&&"All"!==j?e.set("status",j):e.delete("status"),e.delete("cursor"),u(()=>{s.replace("/pacientes?".concat(e.toString()))})},[C,j,s]),(0,l.useEffect)(()=>{p(t.items),g(t.nextCursor)},[t]);let k={Active:"bg-green-100 text-green-800",Inactive:"bg-yellow-100 text-yellow-800",Discharged:"bg-slate-100 text-slate-800"};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto sm:flex-1",children:[(0,a.jsx)(r.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar por nome ou CPF...",value:v,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsxs)("select",{value:j,onChange:e=>y(e.target.value),className:"appearance-none w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg",children:[(0,a.jsx)("option",{value:"All",children:"Todos os Status"}),(0,a.jsx)("option",{value:"Active",children:"Ativo"}),(0,a.jsx)("option",{value:"Inactive",children:"Inativo"}),(0,a.jsx)("option",{value:"Discharged",children:"Alta"})]})]}),(0,a.jsxs)("button",{onClick:()=>w(!0),className:"inline-flex items-center justify-center rounded-lg bg-sky-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-600",children:[(0,a.jsx)(o.Z,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo"]})]})]}),(0,a.jsx)(h,{isOpen:N,onClose:()=>w(!1)}),(0,a.jsxs)("div",{className:"divide-y divide-slate-200",children:[d&&Array.from({length:5}).map((e,t)=>(0,a.jsx)(x,{},t)),!d&&m.map(e=>(0,a.jsxs)("div",{onClick:()=>s.push("/pacientes/".concat(e.id)),className:"flex items-center p-4 hover:bg-slate-50 cursor-pointer",children:[(0,a.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.avatarUrl||"https://i.pravatar.cc/150?u=".concat(e.id),alt:e.name}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-slate-500",children:e.cpf})]}),(0,a.jsx)("div",{className:"text-sm text-slate-500 hidden md:block",children:e.phone}),(0,a.jsx)("span",{className:"ml-4 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(k[e.status]||"bg-slate-100 text-slate-800"),children:e.status})]},e.id)),!d&&0===m.length&&(0,a.jsx)("p",{className:"text-center p-10 text-slate-500",children:"Nenhum paciente encontrado."})]})]})})}},62869:function(e,t,s){"use strict";s.d(t,{z:function(){return r}});var a=s(57437),l=s(2265),n=s(94508);let r=l.forwardRef((e,t)=>{let{className:s,variant:l="default",size:r="default",...i}=e;return(0,a.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[l],{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[r],s),ref:t,...i})});r.displayName="Button"},95186:function(e,t,s){"use strict";s.d(t,{I:function(){return r}});var a=s(57437),l=s(2265),n=s(94508);let r=l.forwardRef((e,t)=>{let{className:s,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});r.displayName="Input"},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return r}});var a=s(57437),l=s(2265),n=s(94508);let r=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("label",{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...l})});r.displayName="Label"},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(61994),l=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.m6)((0,a.W)(t))}}},function(e){e.O(0,[216,744],function(){return e(e.s=87439)}),_N_E=e.O()}]);