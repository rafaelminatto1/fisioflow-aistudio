(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{9758:function(e,s,r){Promise.resolve().then(r.bind(r,42365))},42365:function(e,s,r){"use strict";r.d(s,{RLSSecurityDashboard:function(){return G}});var t=r(57437),a=r(2265),l=r(66070),i=r(62869),n=r(35974),c=r(65613),o=r(20271),d=r(94508);let u=o.fC,m=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(o.aV,{ref:s,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});m.displayName=o.aV.displayName;let f=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(o.xz,{ref:s,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});f.displayName=o.xz.displayName;let x=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(o.VY,{ref:s,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});x.displayName=o.VY.displayName;let h=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,d.cn)("w-full caption-bottom text-sm",r),...a})})});h.displayName="Table";let p=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("thead",{ref:s,className:(0,d.cn)("[&_tr]:border-b",r),...a})});p.displayName="TableHeader";let j=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,d.cn)("[&_tr:last-child]:border-0",r),...a})});j.displayName="TableBody",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let g=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tr",{ref:s,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});g.displayName="TableRow";let b=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("th",{ref:s,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});b.displayName="TableHead";let v=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("td",{ref:s,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});v.displayName="TableCell",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("caption",{ref:s,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption";var y=r(95186),N=r(1264),w=r(40875),R=r(22135),S=r(30401);let C=N.fC;N.ZA;let A=N.B4,L=a.forwardRef((e,s)=>{let{className:r,children:a,...l}=e;return(0,t.jsxs)(N.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[a,(0,t.jsx)(N.JO,{asChild:!0,children:(0,t.jsx)(w.Z,{className:"h-4 w-4 opacity-50"})})]})});L.displayName=N.xz.displayName;let E=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(N.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(R.Z,{className:"h-4 w-4"})})});E.displayName=N.u_.displayName;let T=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(N.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})})});T.displayName=N.$G.displayName;let Z=a.forwardRef((e,s)=>{let{className:r,children:a,position:l="popper",...i}=e;return(0,t.jsx)(N.h_,{children:(0,t.jsxs)(N.VY,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...i,children:[(0,t.jsx)(E,{}),(0,t.jsx)(N.l_,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(T,{})]})})});Z.displayName=N.VY.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(N.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=N.__.displayName;let k=a.forwardRef((e,s)=>{let{className:r,children:a,...l}=e;return(0,t.jsxs)(N.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(N.wU,{children:(0,t.jsx)(S.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(N.eT,{children:a})]})});k.displayName=N.ck.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(N.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=N.Z0.displayName;var O=r(82431),_=r(84286),z=r(83578),P=r(88906),D=r(42488),U=r(95805),I=r(98728),F=r(69076),Y=r(33276),V=r(18930),M=r(50091),B=r(90740),J=r(92735),H=r(42208),W=r(14438);function G(){let[e,s]=(0,a.useState)(null),[r,o]=(0,a.useState)([]),[d,N]=(0,a.useState)([]),[w,R]=(0,a.useState)([]),[S,E]=(0,a.useState)(!1),[T,G]=(0,a.useState)("overview"),[X,$]=(0,a.useState)({userId:"",tableName:"",operation:"",limit:100,offset:0});(0,a.useEffect)(()=>{q(),K(),Q(),ee()},[]);let q=async()=>{try{let e=await fetch("/api/neon/rls?action=status"),r=await e.json();r.success?s(r.data):W.Am.error("Failed to load RLS status")}catch(e){console.error("Error loading RLS status:",e),W.Am.error("Error loading RLS status")}},K=async()=>{try{let e=new URLSearchParams({action:"audit",...Object.fromEntries(Object.entries(X).map(e=>{let[s,r]=e;return[s,r.toString()]}))}),s=await fetch("/api/neon/rls?".concat(e)),r=await s.json();r.success?o(r.data):W.Am.error("Failed to load audit logs")}catch(e){console.error("Error loading audit logs:",e),W.Am.error("Error loading audit logs")}},Q=async()=>{try{let e=await fetch("/api/neon/rls?action=policies"),s=await e.json();s.success?N(s.data):W.Am.error("Failed to load policies")}catch(e){console.error("Error loading policies:",e),W.Am.error("Error loading policies")}},ee=async()=>{try{let e=await fetch("/api/neon/rls?action=stats"),s=await e.json();s.success?R(s.data):W.Am.error("Failed to load access stats")}catch(e){console.error("Error loading access stats:",e),W.Am.error("Error loading access stats")}},es=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(!0);try{let s=await fetch("/api/neon/rls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"setup",force:e})}),r=await s.json();r.success?(W.Am.success("RLS setup completed successfully"),await q(),await Q()):W.Am.error(r.error||"Failed to setup RLS")}catch(e){console.error("Error setting up RLS:",e),W.Am.error("Error setting up RLS")}finally{E(!1)}},er=async()=>{if(confirm("Are you sure you want to reset RLS configuration? This will remove all policies.")){E(!0);try{let e=await fetch("/api/neon/rls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reset"})}),s=await e.json();s.success?(W.Am.success("RLS configuration reset successfully"),await q(),await Q()):W.Am.error(s.error||"Failed to reset RLS")}catch(e){console.error("Error resetting RLS:",e),W.Am.error("Error resetting RLS")}finally{E(!1)}}},et=async()=>{E(!0);try{let e=await fetch("/api/neon/rls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"test"})}),s=await e.json();s.success?W.Am.success("RLS tests completed successfully"):W.Am.error(s.error||"RLS tests failed")}catch(e){console.error("Error testing RLS:",e),W.Am.error("Error testing RLS")}finally{E(!1)}},ea=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(confirm("Are you sure you want to delete audit logs older than ".concat(e," days?"))){E(!0);try{let s=await fetch("/api/neon/rls?days=".concat(e),{method:"DELETE"}),r=await s.json();r.success?(W.Am.success("Audit logs cleaned up successfully"),await K()):W.Am.error(r.error||"Failed to cleanup audit logs")}catch(e){console.error("Error cleaning up audit logs:",e),W.Am.error("Error cleaning up audit logs")}finally{E(!1)}}},el=async()=>{E(!0);try{await Promise.all([q(),K(),Q(),ee()]),W.Am.success("Data refreshed successfully")}catch(e){W.Am.error("Error refreshing data")}finally{E(!1)}},ei=e=>{switch(e){case"INSERT":return"bg-green-100 text-green-800";case"UPDATE":return"bg-blue-100 text-blue-800";case"DELETE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"RLS Security Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Monitor and manage Row Level Security configuration"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:el,disabled:S,children:[(0,t.jsx)(O.Z,{className:"h-4 w-4 mr-2 ".concat(S?"animate-spin":"")}),"Refresh"]})})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"RLS Status"}),(null==e?void 0:e.isConfigured)?(0,t.jsx)(_.Z,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(z.Z,{className:"h-4 w-4 text-red-600"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,t.jsx)("span",{className:(null==e?void 0:e.isConfigured)?"text-green-600":"text-red-600",children:(null==e?void 0:e.isConfigured)?"Configured":"Not Configured"})}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null==e?void 0:e.tablesWithRLS.length)||0," tables protected"]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"Security Policies"}),(0,t.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.policiesCount)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active security policies"})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"Audit Logs"}),(0,t.jsx)(D.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:r.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recent activity records"})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"Access Stats"}),(0,t.jsx)(U.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:w.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Unique access patterns"})]})]})]}),!(null==e?void 0:e.isConfigured)&&(0,t.jsxs)(c.bZ,{children:[(0,t.jsx)(z.Z,{className:"h-4 w-4"}),(0,t.jsx)(c.X,{children:'Row Level Security is not configured. Click "Setup RLS" to configure security policies.'})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Configuration Management"}),(0,t.jsx)(l.SZ,{children:"Manage RLS configuration and security policies"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(i.z,{onClick:()=>es(!1),disabled:S,variant:(null==e?void 0:e.isConfigured)?"outline":"default",children:[(0,t.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Setup RLS"]}),(0,t.jsxs)(i.z,{onClick:()=>es(!0),disabled:S,variant:"outline",children:[(0,t.jsx)(F.Z,{className:"h-4 w-4 mr-2"}),"Force Reconfigure"]}),(0,t.jsxs)(i.z,{onClick:et,disabled:S,variant:"outline",children:[(0,t.jsx)(Y.Z,{className:"h-4 w-4 mr-2"}),"Test RLS"]}),(0,t.jsxs)(i.z,{onClick:er,disabled:S,variant:"destructive",children:[(0,t.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Reset RLS"]})]})})]}),(0,t.jsxs)(u,{value:T,onValueChange:G,children:[(0,t.jsxs)(m,{children:[(0,t.jsx)(f,{value:"overview",children:"Overview"}),(0,t.jsx)(f,{value:"policies",children:"Security Policies"}),(0,t.jsx)(f,{value:"audit",children:"Audit Logs"}),(0,t.jsx)(f,{value:"stats",children:"Access Statistics"})]}),(0,t.jsx)(x,{value:"overview",className:"space-y-4",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Protected Tables"}),(0,t.jsx)(l.SZ,{children:"Tables with Row Level Security enabled"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"grid gap-2",children:null==e?void 0:e.tablesWithRLS.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded",children:[(0,t.jsx)("span",{className:"font-medium",children:e}),(0,t.jsxs)(n.C,{variant:"secondary",children:[(0,t.jsx)(M.Z,{className:"h-3 w-3 mr-1"}),"Protected"]})]},e))})})]})}),(0,t.jsx)(x,{value:"policies",className:"space-y-4",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Security Policies"}),(0,t.jsx)(l.SZ,{children:"Active RLS policies and their configurations"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsxs)(h,{children:[(0,t.jsx)(p,{children:(0,t.jsxs)(g,{children:[(0,t.jsx)(b,{children:"Table"}),(0,t.jsx)(b,{children:"Policy Name"}),(0,t.jsx)(b,{children:"Command"}),(0,t.jsx)(b,{children:"Roles"}),(0,t.jsx)(b,{children:"Type"})]})}),(0,t.jsx)(j,{children:d.map((e,s)=>{var r;return(0,t.jsxs)(g,{children:[(0,t.jsx)(v,{className:"font-medium",children:e.tablename}),(0,t.jsx)(v,{children:e.policyname}),(0,t.jsx)(v,{children:(0,t.jsx)(n.C,{variant:"outline",children:e.cmd})}),(0,t.jsx)(v,{children:(null===(r=e.roles)||void 0===r?void 0:r.join(", "))||"All"}),(0,t.jsx)(v,{children:(0,t.jsx)(n.C,{variant:"PERMISSIVE"===e.permissive?"default":"secondary",children:e.permissive})})]},s)})})]})})]})}),(0,t.jsx)(x,{value:"audit",className:"space-y-4",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Audit Logs"}),(0,t.jsx)(l.SZ,{children:"Database activity monitoring and security audit trail"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(y.I,{placeholder:"Filter by User ID",value:X.userId,onChange:e=>$(s=>({...s,userId:e.target.value})),className:"max-w-xs"}),(0,t.jsxs)(C,{value:X.tableName,onValueChange:e=>$(s=>({...s,tableName:e})),children:[(0,t.jsx)(L,{className:"max-w-xs",children:(0,t.jsx)(A,{placeholder:"Filter by Table"})}),(0,t.jsxs)(Z,{children:[(0,t.jsx)(k,{value:"",children:"All Tables"}),(0,t.jsx)(k,{value:"User",children:"User"}),(0,t.jsx)(k,{value:"Patient",children:"Patient"}),(0,t.jsx)(k,{value:"Appointment",children:"Appointment"}),(0,t.jsx)(k,{value:"PainPoint",children:"PainPoint"}),(0,t.jsx)(k,{value:"MetricResult",children:"MetricResult"}),(0,t.jsx)(k,{value:"SoapNote",children:"SoapNote"})]})]}),(0,t.jsxs)(C,{value:X.operation,onValueChange:e=>$(s=>({...s,operation:e})),children:[(0,t.jsx)(L,{className:"max-w-xs",children:(0,t.jsx)(A,{placeholder:"Filter by Operation"})}),(0,t.jsxs)(Z,{children:[(0,t.jsx)(k,{value:"",children:"All Operations"}),(0,t.jsx)(k,{value:"INSERT",children:"INSERT"}),(0,t.jsx)(k,{value:"UPDATE",children:"UPDATE"}),(0,t.jsx)(k,{value:"DELETE",children:"DELETE"})]})]}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:K,children:[(0,t.jsx)(B.Z,{className:"h-4 w-4 mr-2"}),"Apply Filters"]}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([["ID,Table,Operation,User ID,User Role,Timestamp",...r.map(e=>[e.id,e.table_name,e.operation,e.user_id,e.user_role,e.timestamp].join(","))].join("\n")],{type:"text/csv"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="audit-logs-".concat(new Date().toISOString().split("T")[0],".csv"),t.click(),URL.revokeObjectURL(s)},children:[(0,t.jsx)(J.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,t.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>ea(30),children:[(0,t.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Cleanup"]})]}),(0,t.jsxs)(h,{children:[(0,t.jsx)(p,{children:(0,t.jsxs)(g,{children:[(0,t.jsx)(b,{children:"Timestamp"}),(0,t.jsx)(b,{children:"Table"}),(0,t.jsx)(b,{children:"Operation"}),(0,t.jsx)(b,{children:"User"}),(0,t.jsx)(b,{children:"Role"}),(0,t.jsx)(b,{children:"Actions"})]})}),(0,t.jsx)(j,{children:r.map(e=>(0,t.jsxs)(g,{children:[(0,t.jsx)(v,{className:"text-sm",children:new Date(e.timestamp).toLocaleString()}),(0,t.jsx)(v,{className:"font-medium",children:e.table_name}),(0,t.jsx)(v,{children:(0,t.jsx)(n.C,{className:ei(e.operation),children:e.operation})}),(0,t.jsx)(v,{className:"text-sm",children:e.user_id}),(0,t.jsx)(v,{children:(0,t.jsx)(n.C,{variant:"outline",children:e.user_role})}),(0,t.jsx)(v,{children:(0,t.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>{W.Am.info("Check console for detailed log information")},children:(0,t.jsx)(H.Z,{className:"h-4 w-4"})})})]},e.id))})]})]})]})}),(0,t.jsx)(x,{value:"stats",className:"space-y-4",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Access Statistics"}),(0,t.jsx)(l.SZ,{children:"User access patterns and database usage statistics (last 7 days)"})]}),(0,t.jsx)(l.aY,{children:(0,t.jsxs)(h,{children:[(0,t.jsx)(p,{children:(0,t.jsxs)(g,{children:[(0,t.jsx)(b,{children:"User Role"}),(0,t.jsx)(b,{children:"Table"}),(0,t.jsx)(b,{children:"Operation"}),(0,t.jsx)(b,{children:"Count"}),(0,t.jsx)(b,{children:"Last Access"})]})}),(0,t.jsx)(j,{children:w.map((e,s)=>(0,t.jsxs)(g,{children:[(0,t.jsx)(v,{children:(0,t.jsx)(n.C,{variant:"outline",children:e.user_role})}),(0,t.jsx)(v,{className:"font-medium",children:e.table_name}),(0,t.jsx)(v,{children:(0,t.jsx)(n.C,{className:ei(e.operation),children:e.operation})}),(0,t.jsx)(v,{className:"text-right",children:e.operation_count}),(0,t.jsx)(v,{className:"text-sm",children:new Date(e.last_access).toLocaleString()})]},s))})]})})]})})]})]})}},65613:function(e,s,r){"use strict";r.d(s,{X:function(){return o},bZ:function(){return c}});var t=r(57437),a=r(2265),l=r(90535),i=r(94508);let n=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=a.forwardRef((e,s)=>{let{className:r,variant:a,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:a}),r),...l})});c.displayName="Alert",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...a})});o.displayName="AlertDescription"},35974:function(e,s,r){"use strict";r.d(s,{C:function(){return n}});var t=r(57437);r(2265);var a=r(90535),l=r(94508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)(i({variant:r}),s),...a})}},62869:function(e,s,r){"use strict";r.d(s,{z:function(){return i}});var t=r(57437),a=r(2265),l=r(94508);let i=a.forwardRef((e,s)=>{let{className:r,variant:a="default",size:i="default",...n}=e;return(0,t.jsx)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[a],{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[i],r),ref:s,...n})});i.displayName="Button"},66070:function(e,s,r){"use strict";r.d(s,{Ol:function(){return n},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var t=r(57437),a=r(2265),l=r(94508);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},95186:function(e,s,r){"use strict";r.d(s,{I:function(){return i}});var t=r(57437),a=r(2265),l=r(94508);let i=a.forwardRef((e,s)=>{let{className:r,type:a,...i}=e;return(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...i})});i.displayName="Input"},94508:function(e,s,r){"use strict";r.d(s,{cn:function(){return l}});var t=r(61994),a=r(53335);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m6)((0,t.W)(s))}}},function(e){e.O(0,[216,744],function(){return e(e.s=9758)}),_N_E=e.O()}]);