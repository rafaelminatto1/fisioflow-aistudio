(()=>{var e={};e.id=533,e.ids=[533],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},98216:e=>{"use strict";e.exports=require("net")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},67139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(21940),s(59283),s(43188),s(35866);var a=s(23191),r=s(88716),i=s(37922),n=s.n(i),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["pacientes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21940)),"C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\pacientes\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,59283)),"C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\pacientes\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,43188)),"C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\pacientes\\page.tsx"],m="/pacientes/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/pacientes/page",pathname:"/pacientes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},54754:(e,t,s)=>{Promise.resolve().then(s.bind(s,18914)),Promise.resolve().then(s.bind(s,4963)),Promise.resolve().then(s.bind(s,21548))},83640:(e,t,s)=>{Promise.resolve().then(s.bind(s,38212))},99498:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},35303:()=>{},38212:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var a=s(10326),r=s(17577),i=s(35047),n=s(88307),l=s(41137),o=s(83855),c=s(94019),d=s(90772),m=s(54432),u=s(31048);function x({isOpen:e,onClose:t,patient:s}){let[i,n]=(0,r.useState)({name:s?.name||"",cpf:s?.cpf||"",email:s?.email||"",phone:s?.phone||"",birthDate:s?.birthDate||"",emergencyContactName:s?.emergencyContact?.name||"",emergencyContactPhone:s?.emergencyContact?.phone||""}),[l,o]=(0,r.useState)(!1),x=async e=>{e.preventDefault(),o(!0);try{n({name:"",cpf:"",email:"",phone:"",birthDate:"",emergencyContactName:"",emergencyContactPhone:""}),t()}catch(e){console.error("Error saving patient:",e)}finally{o(!1)}},p=(e,t)=>{n(s=>({...s,[e]:t}))};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Editar Paciente":"Novo Paciente"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(c.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("form",{onSubmit:x,className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"name",children:"Nome Completo *"}),a.jsx(m.I,{id:"name",type:"text",value:i.name,onChange:e=>p("name",e.target.value),required:!0,placeholder:"Digite o nome completo"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"cpf",children:"CPF *"}),a.jsx(m.I,{id:"cpf",type:"text",value:i.cpf,onChange:e=>p("cpf",e.target.value),required:!0,placeholder:"000.000.000-00"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"email",children:"Email"}),a.jsx(m.I,{id:"email",type:"email",value:i.email,onChange:e=>p("email",e.target.value),placeholder:"email@exemplo.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"phone",children:"Telefone"}),a.jsx(m.I,{id:"phone",type:"tel",value:i.phone,onChange:e=>p("phone",e.target.value),placeholder:"(11) 99999-9999"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"birthDate",children:"Data de Nascimento"}),a.jsx(m.I,{id:"birthDate",type:"date",value:i.birthDate,onChange:e=>p("birthDate",e.target.value)})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contato de Emerg\xeancia"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"emergencyContactName",children:"Nome"}),a.jsx(m.I,{id:"emergencyContactName",type:"text",value:i.emergencyContactName,onChange:e=>p("emergencyContactName",e.target.value),placeholder:"Nome do contato de emerg\xeancia"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"emergencyContactPhone",children:"Telefone"}),a.jsx(m.I,{id:"emergencyContactPhone",type:"tel",value:i.emergencyContactPhone,onChange:e=>p("emergencyContactPhone",e.target.value),placeholder:"(11) 99999-9999"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(d.z,{type:"button",variant:"outline",onClick:t,disabled:l,children:"Cancelar"}),a.jsx(d.z,{type:"submit",disabled:l,children:l?"Salvando...":s?"Atualizar":"Criar Paciente"})]})]})]})]}):null}let p=()=>(0,a.jsxs)("div",{className:"flex items-center p-4 space-x-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 animate-pulse"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2 animate-pulse"})]})]});function f({initialData:e}){let t=(0,i.useRouter)(),s=(0,i.useSearchParams)(),[c,d]=(0,r.useTransition)(),[m,u]=(0,r.useState)(e.items),[f,h]=(0,r.useState)(e.nextCursor),[v,g]=(0,r.useState)(s.get("q")||""),[j,y]=(0,r.useState)(s.get("status")||"All"),[b,N]=(0,r.useState)(!1);!function(e,t){let[s,a]=(0,r.useState)(e)}(v,0);let w={Active:"bg-green-100 text-green-800",Inactive:"bg-yellow-100 text-yellow-800",Discharged:"bg-slate-100 text-slate-800"};return a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto sm:flex-1",children:[a.jsx(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome ou CPF...",value:v,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",children:[a.jsx(l.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsxs)("select",{value:j,onChange:e=>y(e.target.value),className:"appearance-none w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg",children:[a.jsx("option",{value:"All",children:"Todos os Status"}),a.jsx("option",{value:"Active",children:"Ativo"}),a.jsx("option",{value:"Inactive",children:"Inativo"}),a.jsx("option",{value:"Discharged",children:"Alta"})]})]}),(0,a.jsxs)("button",{onClick:()=>N(!0),className:"inline-flex items-center justify-center rounded-lg bg-sky-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-600",children:[a.jsx(o.Z,{className:"-ml-1 mr-2 h-5 w-5"}),"Novo"]})]})]}),a.jsx(x,{isOpen:b,onClose:()=>N(!1)}),(0,a.jsxs)("div",{className:"divide-y divide-slate-200",children:[c&&Array.from({length:5}).map((e,t)=>a.jsx(p,{},t)),!c&&m.map(e=>(0,a.jsxs)("div",{onClick:()=>t.push(`/pacientes/${e.id}`),className:"flex items-center p-4 hover:bg-slate-50 cursor-pointer",children:[a.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:e.avatarUrl||`https://i.pravatar.cc/150?u=${e.id}`,alt:e.name}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-slate-900",children:e.name}),a.jsx("div",{className:"text-sm text-slate-500",children:e.cpf})]}),a.jsx("div",{className:"text-sm text-slate-500 hidden md:block",children:e.phone}),a.jsx("span",{className:`ml-4 px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w[e.status]||"bg-slate-100 text-slate-800"}`,children:e.status})]},e.id)),!c&&0===m.length&&a.jsx("p",{className:"text-center p-10 text-slate-500",children:"Nenhum paciente encontrado."})]})]})})}},18914:(e,t,s)=>{"use strict";function a({resources:e=[]}){return null}s.d(t,{ResourcePreloader:()=>a}),s(17577)},4963:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>o});var a=s(10326),r=s(98618),i=s(58399);let n=async e=>{let t=await fetch(e,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch");return t.json()};function l({children:e}){return a.jsx(i.J$,{value:{fetcher:n,dedupingInterval:3e5,revalidateOnFocus:!0,revalidateOnReconnect:!0,errorRetryCount:3,errorRetryInterval:1e3,refreshInterval:0,revalidateIfStale:!0,shouldRetryOnError:e=>!(e?.status>=400&&e?.status<500),provider:()=>new Map,fallbackData:void 0,keepPreviousData:!0},children:e})}function o({children:e}){return a.jsx(l,{children:a.jsx(r.eA,{refetchInterval:300,refetchOnWindowFocus:!0,refetchWhenOffline:!1,children:e})})}},21548:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(10326),r=s(17577);let i=(0,r.createContext)(void 0),n=()=>(0,r.useContext)(i);var l=s(30361),o=s(50949),c=s(18019),d=s(94019);let m={success:a.jsx(l.Z,{className:"w-6 h-6 text-green-500"}),error:a.jsx(o.Z,{className:"w-6 h-6 text-red-500"}),info:a.jsx(c.Z,{className:"w-6 h-6 text-blue-500"})},u=({toast:e,onRemove:t})=>{let[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let s=setTimeout(()=>{i(!0),setTimeout(()=>t(e.id),300)},4700);return()=>clearTimeout(s)},[e.id,t]),(0,a.jsxs)("div",{className:`
            flex items-start p-4 w-full max-w-sm bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden
            transition-all duration-300 ease-in-out
            ${s?"animate-toast-exit":"animate-toast-enter"}
        `,children:[a.jsx("div",{className:"flex-shrink-0",children:m[e.type]}),a.jsx("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:a.jsx("p",{className:"text-sm font-medium text-slate-900",children:e.message})}),a.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:(0,a.jsxs)("button",{onClick:()=>{i(!0),setTimeout(()=>t(e.id),300)},className:"bg-white rounded-md inline-flex text-slate-400 hover:text-slate-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[a.jsx("span",{className:"sr-only",children:"Close"}),a.jsx(d.Z,{className:"h-5 w-5"})]})})]})},x=()=>{let e=n();if(!e)return null;let{toasts:t,removeToast:s}=e;return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 flex items-end justify-center px-4 py-6 pointer-events-none sm:p-6 sm:items-end sm:justify-end z-[100]",children:a.jsx("div",{className:"w-full flex flex-col items-center space-y-4 sm:items-end",children:t.map(e=>a.jsx(u,{toast:e,onRemove:s},e.id))})}),a.jsx("style",{children:`
            @keyframes toast-enter {
                from {
                    opacity: 0;
                    transform: translateX(100%);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
            @keyframes toast-exit {
                from {
                    opacity: 1;
                    transform: translateX(0);
                }
                to {
                    opacity: 0;
                    transform: translateX(100%);
                }
            }
            .animate-toast-enter { animation: toast-enter 0.3s ease-out forwards; }
            .animate-toast-exit { animation: toast-exit 0.3s ease-in forwards; }
        `})]})}},90772:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var a=s(10326),r=s(17577),i=s(77863);let n=r.forwardRef(({className:e,variant:t="default",size:s="default",...r},n)=>a.jsx("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[t],{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[s],e),ref:n,...r}));n.displayName="Button"},54432:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(10326),r=s(17577),i=s(77863);let n=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));n.displayName="Input"},31048:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});var a=s(10326),r=s(17577),i=s(77863);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("label",{ref:s,className:(0,i.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));n.displayName="Label"},77863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(41135),r=s(31009);function i(...e){return(0,r.m6)((0,a.W)(e))}},43188:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>d});var a=s(19510),r=s(77366),i=s.n(r),n=s(68570);let l=(0,n.createProxy)(String.raw`C:\Users\amand\Rafael\aifisio\fisioflow-aistudio\components\providers\AuthProvider.tsx#AuthProvider`),o=(0,n.createProxy)(String.raw`C:\Users\amand\Rafael\aifisio\fisioflow-aistudio\components\ui\Toast.tsx#default`),c=(0,n.createProxy)(String.raw`C:\Users\amand\Rafael\aifisio\fisioflow-aistudio\components\preload\ResourcePreloader.tsx#ResourcePreloader`);(0,n.createProxy)(String.raw`C:\Users\amand\Rafael\aifisio\fisioflow-aistudio\components\preload\ResourcePreloader.tsx#useResourcePreload`),s(67272);let d={title:"FisioFlow",description:"Sistema de gest\xe3o para sua cl\xednica de fisioterapia."};function m({children:e}){return(0,a.jsxs)("html",{lang:"pt-BR",children:[(0,a.jsxs)("head",{children:[a.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),a.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),a.jsx("link",{rel:"dns-prefetch",href:"//fonts.googleapis.com"}),a.jsx("link",{rel:"dns-prefetch",href:"//fonts.gstatic.com"})]}),(0,a.jsxs)("body",{className:i().className,children:[a.jsx(c,{resources:["/api/auth/session","/api/auth/providers"]}),(0,a.jsxs)(l,{children:[e,a.jsx(o,{})]})]})]})}},59283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(19510);function r({children:e}){return a.jsx("section",{children:e})}s(71159)},21940:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(19510),r=s(49237);let i=(0,s(68570).createProxy)(String.raw`C:\Users\amand\Rafael\aifisio\fisioflow-aistudio\components\pacientes\PatientList.tsx#default`);var n=s(23691);async function l({searchParams:e}){let{q:t="",status:s="All",cursor:l}=e,o={OR:[{name:{contains:t,mode:"insensitive"}},{cpf:{contains:t,mode:"insensitive"}}]};s&&"All"!==s&&(o.status=s);let c=await r.ZP.client.patient.findMany({take:20,skip:l?1:0,cursor:l?{id:l}:void 0,where:o,select:{id:!0,name:!0,cpf:!0,phone:!0,email:!0,status:!0,lastVisit:!0,medicalAlerts:!0},orderBy:{createdAt:"desc"}}),d=c.map(e=>({id:e.id,name:e.name,email:e.email||"",phone:e.phone||"",status:e.status,lastVisit:e.lastVisit?.toISOString().split("T")[0]||"",avatarUrl:"",medicalAlerts:e.medicalAlerts||void 0,cpf:e.cpf})),m=20===c.length?c[c.length-1].id:null;return(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.Z,{title:"Gest\xe3o de Pacientes",description:"Adicione, visualize e gerencie as informa\xe7\xf5es dos seus pacientes."}),a.jsx(i,{initialData:{items:d,nextCursor:m}})]})}},23691:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(19510);s(71159);var r=s(50650);let i=function({title:e,description:t,children:s,className:i}){return a.jsx("div",{className:(0,r.cn)("flex flex-col space-y-1.5 pb-6",i),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),s&&a.jsx("div",{className:"flex items-center space-x-2",children:s})]})})}},50650:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(55761),r=s(62386);function i(...e){return(0,r.m6)((0,a.W)(e))}},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[216,237],()=>s(67139));module.exports=a})();