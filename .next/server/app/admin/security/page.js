(()=>{var e={};e.id=636,e.ids=[636],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},98216:e=>{"use strict";e.exports=require("net")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},10554:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),a(7422),a(32773),a(43188),a(35866);var r=a(23191),s=a(88716),o=a(37922),n=a.n(o),i=a(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(t,l);let d=["",{children:["admin",{children:["security",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7422)),"C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\admin\\security\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,32773)),"C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,43188)),"C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\amand\\Rafael\\aifisio\\fisioflow-aistudio\\app\\admin\\security\\page.tsx"],u="/admin/security/page",p={require:a,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/security/page",pathname:"/admin/security",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},70753:(e,t,a)=>{Promise.resolve().then(a.bind(a,41839))},41839:(e,t,a)=>{"use strict";a.d(t,{RLSSecurityDashboard:()=>tS});var r=a(10326),s=a(17577),o=a(33071),n=a(90772),i=a(567),l=a(43273),d=a(82561),c=a(93095),u=a(15594),p=a(9815),f=a(45226),m=a(17124),h=a(52067),x=a(88957),g="Tabs",[y,v]=(0,c.b)(g,[u.Pc]),b=(0,u.Pc)(),[w,j]=y(g),N=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:o,defaultValue:n,orientation:i="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=(0,m.gm)(l),[p,y]=(0,h.T)({prop:s,onChange:o,defaultProp:n??"",caller:g});return(0,r.jsx)(w,{scope:a,baseId:(0,x.M)(),value:p,onValueChange:y,orientation:i,dir:u,activationMode:d,children:(0,r.jsx)(f.WV.div,{dir:u,"data-orientation":i,...c,ref:t})})});N.displayName=g;var S="TabsList",C=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...o}=e,n=j(S,a),i=b(a);return(0,r.jsx)(u.fC,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:s,children:(0,r.jsx)(f.WV.div,{role:"tablist","aria-orientation":n.orientation,...o,ref:t})})});C.displayName=S;var k="TabsTrigger",R=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:o=!1,...n}=e,i=j(k,a),l=b(a),c=M(i.baseId,s),p=P(i.baseId,s),m=s===i.value;return(0,r.jsx)(u.ck,{asChild:!0,...l,focusable:!o,active:m,children:(0,r.jsx)(f.WV.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...n,ref:t,onMouseDown:(0,d.Mj)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(s)}),onKeyDown:(0,d.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(s)}),onFocus:(0,d.Mj)(e.onFocus,()=>{let e="manual"!==i.activationMode;m||o||!e||i.onValueChange(s)})})})});R.displayName=k;var T="TabsContent",E=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:o,forceMount:n,children:i,...l}=e,d=j(T,a),c=M(d.baseId,o),u=P(d.baseId,o),m=o===d.value,h=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(p.z,{present:n||m,children:({present:a})=>(0,r.jsx)(f.WV.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!a,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:a&&i})})});function M(e,t){return`${e}-trigger-${t}`}function P(e,t){return`${e}-content-${t}`}E.displayName=T;var L=a(77863);let D=s.forwardRef(({className:e,...t},a)=>r.jsx(C,{ref:a,className:(0,L.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));D.displayName=C.displayName;let I=s.forwardRef(({className:e,...t},a)=>r.jsx(R,{ref:a,className:(0,L.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));I.displayName=R.displayName;let A=s.forwardRef(({className:e,...t},a)=>r.jsx(E,{ref:a,className:(0,L.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));A.displayName=E.displayName;let V=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:a,className:(0,L.cn)("w-full caption-bottom text-sm",e),...t})}));V.displayName="Table";let _=s.forwardRef(({className:e,...t},a)=>r.jsx("thead",{ref:a,className:(0,L.cn)("[&_tr]:border-b",e),...t}));_.displayName="TableHeader";let z=s.forwardRef(({className:e,...t},a)=>r.jsx("tbody",{ref:a,className:(0,L.cn)("[&_tr:last-child]:border-0",e),...t}));z.displayName="TableBody",s.forwardRef(({className:e,...t},a)=>r.jsx("tfoot",{ref:a,className:(0,L.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let O=s.forwardRef(({className:e,...t},a)=>r.jsx("tr",{ref:a,className:(0,L.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));O.displayName="TableRow";let Z=s.forwardRef(({className:e,...t},a)=>r.jsx("th",{ref:a,className:(0,L.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Z.displayName="TableHead";let F=s.forwardRef(({className:e,...t},a)=>r.jsx("td",{ref:a,className:(0,L.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));F.displayName="TableCell",s.forwardRef(({className:e,...t},a)=>r.jsx("caption",{ref:a,className:(0,L.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var U=a(54432),H=a(60962);function W(e,[t,a]){return Math.min(a,Math.max(t,e))}var Y=a(70545),q=a(48051),B=a(825),K=a(80699),X=a(10441),$=a(9625),G=a(83078),J=a(34214),Q=a(55049),ee=a(65819),et=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});s.forwardRef((e,t)=>(0,r.jsx)(f.WV.span,{...e,ref:t,style:{...et,...e.style}})).displayName="VisuallyHidden";var ea=a(35664),er=a(58260),es=[" ","Enter","ArrowUp","ArrowDown"],eo=[" ","Enter"],en="Select",[ei,el,ed]=(0,Y.B)(en),[ec,eu]=(0,c.b)(en,[ed,$.D7]),ep=(0,$.D7)(),[ef,em]=ec(en),[eh,ex]=ec(en),eg=e=>{let{__scopeSelect:t,children:a,open:o,defaultOpen:n,onOpenChange:i,value:l,defaultValue:d,onValueChange:c,dir:u,name:p,autoComplete:f,disabled:g,required:y,form:v}=e,b=ep(t),[w,j]=s.useState(null),[N,S]=s.useState(null),[C,k]=s.useState(!1),R=(0,m.gm)(u),[T,E]=(0,h.T)({prop:o,defaultProp:n??!1,onChange:i,caller:en}),[M,P]=(0,h.T)({prop:l,defaultProp:d,onChange:c,caller:en}),L=s.useRef(null),D=!w||v||!!w.closest("form"),[I,A]=s.useState(new Set),V=Array.from(I).map(e=>e.props.value).join(";");return(0,r.jsx)($.fC,{...b,children:(0,r.jsxs)(ef,{required:y,scope:t,trigger:w,onTriggerChange:j,valueNode:N,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:k,contentId:(0,x.M)(),value:M,onValueChange:P,open:T,onOpenChange:E,dir:R,triggerPointerDownPosRef:L,disabled:g,children:[(0,r.jsx)(ei.Provider,{scope:t,children:(0,r.jsx)(eh,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{A(t=>{let a=new Set(t);return a.delete(e),a})},[]),children:a})}),D?(0,r.jsxs)(e2,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:f,value:M,onChange:e=>P(e.target.value),disabled:g,form:v,children:[void 0===M?(0,r.jsx)("option",{value:""}):null,Array.from(I)]},V):null]})})};eg.displayName=en;var ey="SelectTrigger",ev=s.forwardRef((e,t)=>{let{__scopeSelect:a,disabled:o=!1,...n}=e,i=ep(a),l=em(ey,a),c=l.disabled||o,u=(0,q.e)(t,l.onTriggerChange),p=el(a),m=s.useRef("touch"),[h,x,g]=e5(e=>{let t=p().filter(e=>!e.disabled),a=t.find(e=>e.value===l.value),r=e3(t,e,a);void 0!==r&&l.onValueChange(r.value)}),y=e=>{c||(l.onOpenChange(!0),g()),e&&(l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,r.jsx)($.ee,{asChild:!0,...i,children:(0,r.jsx)(f.WV.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":e4(l.value)?"":void 0,...n,ref:u,onClick:(0,d.Mj)(n.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&y(e)}),onPointerDown:(0,d.Mj)(n.onPointerDown,e=>{m.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())}),onKeyDown:(0,d.Mj)(n.onKeyDown,e=>{let t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||x(e.key),(!t||" "!==e.key)&&es.includes(e.key)&&(y(),e.preventDefault())})})})});ev.displayName=ey;var eb="SelectValue",ew=s.forwardRef((e,t)=>{let{__scopeSelect:a,className:s,style:o,children:n,placeholder:i="",...l}=e,d=em(eb,a),{onValueNodeHasChildrenChange:c}=d,u=void 0!==n,p=(0,q.e)(t,d.onValueNodeChange);return(0,ee.b)(()=>{c(u)},[c,u]),(0,r.jsx)(f.WV.span,{...l,ref:p,style:{pointerEvents:"none"},children:e4(d.value)?(0,r.jsx)(r.Fragment,{children:i}):n})});ew.displayName=eb;var ej=s.forwardRef((e,t)=>{let{__scopeSelect:a,children:s,...o}=e;return(0,r.jsx)(f.WV.span,{"aria-hidden":!0,...o,ref:t,children:s||"▼"})});ej.displayName="SelectIcon";var eN=e=>(0,r.jsx)(G.h,{asChild:!0,...e});eN.displayName="SelectPortal";var eS="SelectContent",eC=s.forwardRef((e,t)=>{let a=em(eS,e.__scopeSelect),[o,n]=s.useState();return((0,ee.b)(()=>{n(new DocumentFragment)},[]),a.open)?(0,r.jsx)(eE,{...e,ref:t}):o?H.createPortal((0,r.jsx)(ek,{scope:e.__scopeSelect,children:(0,r.jsx)(ei.Slot,{scope:e.__scopeSelect,children:(0,r.jsx)("div",{children:e.children})})}),o):null});eC.displayName=eS;var[ek,eR]=ec(eS),eT=(0,J.Z8)("SelectContent.RemoveScroll"),eE=s.forwardRef((e,t)=>{let{__scopeSelect:a,position:o="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:u,align:p,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:x,sticky:g,hideWhenDetached:y,avoidCollisions:v,...b}=e,w=em(eS,a),[j,N]=s.useState(null),[S,C]=s.useState(null),k=(0,q.e)(t,e=>N(e)),[R,T]=s.useState(null),[E,M]=s.useState(null),P=el(a),[L,D]=s.useState(!1),I=s.useRef(!1);s.useEffect(()=>{if(j)return(0,ea.Ry)(j)},[j]),(0,K.EW)();let A=s.useCallback(e=>{let[t,...a]=P().map(e=>e.ref.current),[r]=a.slice(-1),s=document.activeElement;for(let a of e)if(a===s||(a?.scrollIntoView({block:"nearest"}),a===t&&S&&(S.scrollTop=0),a===r&&S&&(S.scrollTop=S.scrollHeight),a?.focus(),document.activeElement!==s))return},[P,S]),V=s.useCallback(()=>A([R,j]),[A,R,j]);s.useEffect(()=>{L&&V()},[L,V]);let{onOpenChange:_,triggerPointerDownPosRef:z}=w;s.useEffect(()=>{if(j){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(z.current?.y??0))}},a=a=>{e.x<=10&&e.y<=10?a.preventDefault():j.contains(a.target)||_(!1),document.removeEventListener("pointermove",t),z.current=null};return null!==z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",a,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",a,{capture:!0})}}},[j,_,z]),s.useEffect(()=>{let e=()=>_(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[_]);let[O,Z]=e5(e=>{let t=P().filter(e=>!e.disabled),a=t.find(e=>e.ref.current===document.activeElement),r=e3(t,e,a);r&&setTimeout(()=>r.ref.current.focus())}),F=s.useCallback((e,t,a)=>{let r=!I.current&&!a;(void 0!==w.value&&w.value===t||r)&&(T(e),r&&(I.current=!0))},[w.value]),U=s.useCallback(()=>j?.focus(),[j]),H=s.useCallback((e,t,a)=>{let r=!I.current&&!a;(void 0!==w.value&&w.value===t||r)&&M(e)},[w.value]),W="popper"===o?eP:eM,Y=W===eP?{side:c,sideOffset:u,align:p,alignOffset:f,arrowPadding:m,collisionBoundary:h,collisionPadding:x,sticky:g,hideWhenDetached:y,avoidCollisions:v}:{};return(0,r.jsx)(ek,{scope:a,content:j,viewport:S,onViewportChange:C,itemRefCallback:F,selectedItem:R,onItemLeave:U,itemTextRefCallback:H,focusSelectedItem:V,selectedItemText:E,position:o,isPositioned:L,searchRef:O,children:(0,r.jsx)(er.Z,{as:eT,allowPinchZoom:!0,children:(0,r.jsx)(X.M,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,d.Mj)(n,e=>{w.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,r.jsx)(B.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,r.jsx)(W,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...b,...Y,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:(0,d.Mj)(b.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Z(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=P().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let a=e.target,r=t.indexOf(a);t=t.slice(r+1)}setTimeout(()=>A(t)),e.preventDefault()}})})})})})})});eE.displayName="SelectContentImpl";var eM=s.forwardRef((e,t)=>{let{__scopeSelect:a,onPlaced:o,...n}=e,i=em(eS,a),l=eR(eS,a),[d,c]=s.useState(null),[u,p]=s.useState(null),m=(0,q.e)(t,e=>p(e)),h=el(a),x=s.useRef(!1),g=s.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=l,j=s.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&u&&y&&v&&b){let e=i.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),a=i.valueNode.getBoundingClientRect(),r=b.getBoundingClientRect();if("rtl"!==i.dir){let s=r.left-t.left,o=a.left-s,n=e.left-o,i=e.width+n,l=Math.max(i,t.width),c=W(o,[10,Math.max(10,window.innerWidth-10-l)]);d.style.minWidth=i+"px",d.style.left=c+"px"}else{let s=t.right-r.right,o=window.innerWidth-a.right-s,n=window.innerWidth-e.right-o,i=e.width+n,l=Math.max(i,t.width),c=W(o,[10,Math.max(10,window.innerWidth-10-l)]);d.style.minWidth=i+"px",d.style.right=c+"px"}let s=h(),n=window.innerHeight-20,l=y.scrollHeight,c=window.getComputedStyle(u),p=parseInt(c.borderTopWidth,10),f=parseInt(c.paddingTop,10),m=parseInt(c.borderBottomWidth,10),g=p+f+l+parseInt(c.paddingBottom,10)+m,w=Math.min(5*v.offsetHeight,g),j=window.getComputedStyle(y),N=parseInt(j.paddingTop,10),S=parseInt(j.paddingBottom,10),C=e.top+e.height/2-10,k=v.offsetHeight/2,R=p+f+(v.offsetTop+k);if(R<=C){let e=s.length>0&&v===s[s.length-1].ref.current;d.style.bottom="0px";let t=u.clientHeight-y.offsetTop-y.offsetHeight;d.style.height=R+Math.max(n-C,k+(e?S:0)+t+m)+"px"}else{let e=s.length>0&&v===s[0].ref.current;d.style.top="0px";let t=Math.max(C,p+y.offsetTop+(e?N:0)+k);d.style.height=t+(g-R)+"px",y.scrollTop=R-C+y.offsetTop}d.style.margin="10px 0",d.style.minHeight=w+"px",d.style.maxHeight=n+"px",o?.(),requestAnimationFrame(()=>x.current=!0)}},[h,i.trigger,i.valueNode,d,u,y,v,b,i.dir,o]);(0,ee.b)(()=>j(),[j]);let[N,S]=s.useState();(0,ee.b)(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);let C=s.useCallback(e=>{e&&!0===g.current&&(j(),w?.(),g.current=!1)},[j,w]);return(0,r.jsx)(eL,{scope:a,contentWrapper:d,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:(0,r.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,r.jsx)(f.WV.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});eM.displayName="SelectItemAlignedPosition";var eP=s.forwardRef((e,t)=>{let{__scopeSelect:a,align:s="start",collisionPadding:o=10,...n}=e,i=ep(a);return(0,r.jsx)($.VY,{...i,...n,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eP.displayName="SelectPopperPosition";var[eL,eD]=ec(eS,{}),eI="SelectViewport",eA=s.forwardRef((e,t)=>{let{__scopeSelect:a,nonce:o,...n}=e,i=eR(eI,a),l=eD(eI,a),c=(0,q.e)(t,i.onViewportChange),u=s.useRef(0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),(0,r.jsx)(ei.Slot,{scope:a,children:(0,r.jsx)(f.WV.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:(0,d.Mj)(n.onScroll,e=>{let t=e.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:r}=l;if(r?.current&&a){let e=Math.abs(u.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,s=Math.max(parseFloat(a.style.minHeight),parseFloat(a.style.height));if(s<r){let o=s+e,n=Math.min(r,o),i=o-n;a.style.height=n+"px","0px"===a.style.bottom&&(t.scrollTop=i>0?i:0,a.style.justifyContent="flex-end")}}}u.current=t.scrollTop})})})]})});eA.displayName=eI;var eV="SelectGroup",[e_,ez]=ec(eV);s.forwardRef((e,t)=>{let{__scopeSelect:a,...s}=e,o=(0,x.M)();return(0,r.jsx)(e_,{scope:a,id:o,children:(0,r.jsx)(f.WV.div,{role:"group","aria-labelledby":o,...s,ref:t})})}).displayName=eV;var eO="SelectLabel",eZ=s.forwardRef((e,t)=>{let{__scopeSelect:a,...s}=e,o=ez(eO,a);return(0,r.jsx)(f.WV.div,{id:o.id,...s,ref:t})});eZ.displayName=eO;var eF="SelectItem",[eU,eH]=ec(eF),eW=s.forwardRef((e,t)=>{let{__scopeSelect:a,value:o,disabled:n=!1,textValue:i,...l}=e,c=em(eF,a),u=eR(eF,a),p=c.value===o,[m,h]=s.useState(i??""),[g,y]=s.useState(!1),v=(0,q.e)(t,e=>u.itemRefCallback?.(e,o,n)),b=(0,x.M)(),w=s.useRef("touch"),j=()=>{n||(c.onValueChange(o),c.onOpenChange(!1))};if(""===o)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,r.jsx)(eU,{scope:a,value:o,disabled:n,textId:b,isSelected:p,onItemTextChange:s.useCallback(e=>{h(t=>t||(e?.textContent??"").trim())},[]),children:(0,r.jsx)(ei.ItemSlot,{scope:a,value:o,disabled:n,textValue:m,children:(0,r.jsx)(f.WV.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":p&&g,"data-state":p?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...l,ref:v,onFocus:(0,d.Mj)(l.onFocus,()=>y(!0)),onBlur:(0,d.Mj)(l.onBlur,()=>y(!1)),onClick:(0,d.Mj)(l.onClick,()=>{"mouse"!==w.current&&j()}),onPointerUp:(0,d.Mj)(l.onPointerUp,()=>{"mouse"===w.current&&j()}),onPointerDown:(0,d.Mj)(l.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:(0,d.Mj)(l.onPointerMove,e=>{w.current=e.pointerType,n?u.onItemLeave?.():"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,d.Mj)(l.onPointerLeave,e=>{e.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:(0,d.Mj)(l.onKeyDown,e=>{u.searchRef?.current!==""&&" "===e.key||(eo.includes(e.key)&&j()," "===e.key&&e.preventDefault())})})})})});eW.displayName=eF;var eY="SelectItemText",eq=s.forwardRef((e,t)=>{let{__scopeSelect:a,className:o,style:n,...i}=e,l=em(eY,a),d=eR(eY,a),c=eH(eY,a),u=ex(eY,a),[p,m]=s.useState(null),h=(0,q.e)(t,e=>m(e),c.onItemTextChange,e=>d.itemTextRefCallback?.(e,c.value,c.disabled)),x=p?.textContent,g=s.useMemo(()=>(0,r.jsx)("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=u;return(0,ee.b)(()=>(y(g),()=>v(g)),[y,v,g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.WV.span,{id:c.textId,...i,ref:h}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?H.createPortal(i.children,l.valueNode):null]})});eq.displayName=eY;var eB="SelectItemIndicator",eK=s.forwardRef((e,t)=>{let{__scopeSelect:a,...s}=e;return eH(eB,a).isSelected?(0,r.jsx)(f.WV.span,{"aria-hidden":!0,...s,ref:t}):null});eK.displayName=eB;var eX="SelectScrollUpButton",e$=s.forwardRef((e,t)=>{let a=eR(eX,e.__scopeSelect),o=eD(eX,e.__scopeSelect),[n,i]=s.useState(!1),l=(0,q.e)(t,o.onScrollButtonChange);return(0,ee.b)(()=>{if(a.viewport&&a.isPositioned){let e=function(){i(t.scrollTop>0)},t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),n?(0,r.jsx)(eQ,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});e$.displayName=eX;var eG="SelectScrollDownButton",eJ=s.forwardRef((e,t)=>{let a=eR(eG,e.__scopeSelect),o=eD(eG,e.__scopeSelect),[n,i]=s.useState(!1),l=(0,q.e)(t,o.onScrollButtonChange);return(0,ee.b)(()=>{if(a.viewport&&a.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;i(Math.ceil(t.scrollTop)<e)},t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),n?(0,r.jsx)(eQ,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eJ.displayName=eG;var eQ=s.forwardRef((e,t)=>{let{__scopeSelect:a,onAutoScroll:o,...n}=e,i=eR("SelectScrollButton",a),l=s.useRef(null),c=el(a),u=s.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return s.useEffect(()=>()=>u(),[u]),(0,ee.b)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,r.jsx)(f.WV.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:(0,d.Mj)(n.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(o,50))}),onPointerMove:(0,d.Mj)(n.onPointerMove,()=>{i.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(o,50))}),onPointerLeave:(0,d.Mj)(n.onPointerLeave,()=>{u()})})}),e0=s.forwardRef((e,t)=>{let{__scopeSelect:a,...s}=e;return(0,r.jsx)(f.WV.div,{"aria-hidden":!0,...s,ref:t})});e0.displayName="SelectSeparator";var e1="SelectArrow";s.forwardRef((e,t)=>{let{__scopeSelect:a,...s}=e,o=ep(a),n=em(e1,a),i=eR(e1,a);return n.open&&"popper"===i.position?(0,r.jsx)($.Eh,{...o,...s,ref:t}):null}).displayName=e1;var e2=s.forwardRef(({__scopeSelect:e,value:t,...a},o)=>{let n=s.useRef(null),i=(0,q.e)(o,n),l=function(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(t);return s.useEffect(()=>{let e=n.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==t&&a){let r=new Event("change",{bubbles:!0});a.call(e,t),e.dispatchEvent(r)}},[l,t]),(0,r.jsx)(f.WV.select,{...a,style:{...et,...a.style},ref:i,defaultValue:t})});function e4(e){return""===e||void 0===e}function e5(e){let t=(0,Q.W)(e),a=s.useRef(""),r=s.useRef(0),o=s.useCallback(e=>{let s=a.current+e;t(s),function e(t){a.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),n=s.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,o,n]}function e3(e,t,a){var r;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=(r=Math.max(a?e.indexOf(a):-1,0),e.map((t,a)=>e[(r+a)%e.length]));1===s.length&&(o=o.filter(e=>e!==a));let n=o.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return n!==a?n:void 0}e2.displayName="SelectBubbleInput";var e7=a(62881);let e6=(0,e7.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),e8=(0,e7.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var e9=a(32933);let te=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(ev,{ref:s,className:(0,L.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,r.jsx(ej,{asChild:!0,children:r.jsx(e6,{className:"h-4 w-4 opacity-50"})})]}));te.displayName=ev.displayName;let tt=s.forwardRef(({className:e,...t},a)=>r.jsx(e$,{ref:a,className:(0,L.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(e8,{className:"h-4 w-4"})}));tt.displayName=e$.displayName;let ta=s.forwardRef(({className:e,...t},a)=>r.jsx(eJ,{ref:a,className:(0,L.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(e6,{className:"h-4 w-4"})}));ta.displayName=eJ.displayName;let tr=s.forwardRef(({className:e,children:t,position:a="popper",...s},o)=>r.jsx(eN,{children:(0,r.jsxs)(eC,{ref:o,className:(0,L.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...s,children:[r.jsx(tt,{}),r.jsx(eA,{className:(0,L.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(ta,{})]})}));tr.displayName=eC.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(eZ,{ref:a,className:(0,L.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=eZ.displayName;let ts=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(eW,{ref:s,className:(0,L.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(eK,{children:r.jsx(e9.Z,{className:"h-4 w-4"})})}),r.jsx(eq,{children:t})]}));ts.displayName=eW.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(e0,{ref:a,className:(0,L.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=e0.displayName;var to=a(21405);let tn=(0,e7.Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ti=(0,e7.Z)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var tl=a(58038),td=a(66697),tc=a(24061),tu=a(88378);let tp=(0,e7.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),tf=(0,e7.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),tm=(0,e7.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var th=a(88319),tx=a(41137);let tg=(0,e7.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ty=(0,e7.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);Array(12).fill(0);let tv=1;class tb{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:a,...r}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:tv++,o=this.toasts.find(e=>e.id===s),n=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:a}),{...t,...e,id:s,dismissible:n,title:a}):t):this.addToast({title:a,...r,dismissible:n,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let a,r;if(!t)return;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let o=Promise.resolve(e instanceof Function?e():e),n=void 0!==r,i=o.then(async e=>{if(a=["resolve",e],s.isValidElement(e))n=!1,this.create({id:r,type:"default",message:e});else if(tj(e)&&!e.ok){n=!1;let a="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,o="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"!=typeof a||s.isValidElement(a)?{message:a}:a;this.create({id:r,type:"error",description:o,...i})}else if(e instanceof Error){n=!1;let a="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof a||s.isValidElement(a)?{message:a}:a;this.create({id:r,type:"error",description:o,...i})}else if(void 0!==t.success){n=!1;let a="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof a||s.isValidElement(a)?{message:a}:a;this.create({id:r,type:"success",description:o,...i})}}).catch(async e=>{if(a=["reject",e],void 0!==t.error){n=!1;let a="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description,i="object"!=typeof a||s.isValidElement(a)?{message:a}:a;this.create({id:r,type:"error",description:o,...i})}}).finally(()=>{n&&(this.dismiss(r),r=void 0),null==t.finally||t.finally.call(t)}),l=()=>new Promise((e,t)=>i.then(()=>"reject"===a[0]?t(a[1]):e(a[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let a=(null==t?void 0:t.id)||tv++;return this.create({jsx:e(a),id:a,...t}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}let tw=new tb,tj=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,tN=Object.assign((e,t)=>{let a=(null==t?void 0:t.id)||tv++;return tw.addToast({title:e,...t,id:a}),a},{success:tw.success,info:tw.info,warning:tw.warning,error:tw.error,custom:tw.custom,message:tw.message,promise:tw.promise,dismiss:tw.dismiss,loading:tw.loading},{getHistory:()=>tw.toasts,getToasts:()=>tw.getActiveToasts()});function tS(){let[e,t]=(0,s.useState)(null),[a,d]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[p,f]=(0,s.useState)([]),[m,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)("overview"),[y,v]=(0,s.useState)({userId:"",tableName:"",operation:"",limit:100,offset:0}),b=async()=>{try{let e=await fetch("/api/neon/rls?action=status"),a=await e.json();a.success?t(a.data):tN.error("Failed to load RLS status")}catch(e){console.error("Error loading RLS status:",e),tN.error("Error loading RLS status")}},w=async()=>{try{let e=new URLSearchParams({action:"audit",...Object.fromEntries(Object.entries(y).map(([e,t])=>[e,t.toString()]))}),t=await fetch(`/api/neon/rls?${e}`),a=await t.json();a.success?d(a.data):tN.error("Failed to load audit logs")}catch(e){console.error("Error loading audit logs:",e),tN.error("Error loading audit logs")}},j=async()=>{try{let e=await fetch("/api/neon/rls?action=policies"),t=await e.json();t.success?u(t.data):tN.error("Failed to load policies")}catch(e){console.error("Error loading policies:",e),tN.error("Error loading policies")}},S=async()=>{try{let e=await fetch("/api/neon/rls?action=stats"),t=await e.json();t.success?f(t.data):tN.error("Failed to load access stats")}catch(e){console.error("Error loading access stats:",e),tN.error("Error loading access stats")}},C=async(e=!1)=>{h(!0);try{let t=await fetch("/api/neon/rls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"setup",force:e})}),a=await t.json();a.success?(tN.success("RLS setup completed successfully"),await b(),await j()):tN.error(a.error||"Failed to setup RLS")}catch(e){console.error("Error setting up RLS:",e),tN.error("Error setting up RLS")}finally{h(!1)}},k=async()=>{if(confirm("Are you sure you want to reset RLS configuration? This will remove all policies.")){h(!0);try{let e=await fetch("/api/neon/rls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reset"})}),t=await e.json();t.success?(tN.success("RLS configuration reset successfully"),await b(),await j()):tN.error(t.error||"Failed to reset RLS")}catch(e){console.error("Error resetting RLS:",e),tN.error("Error resetting RLS")}finally{h(!1)}}},R=async()=>{h(!0);try{let e=await fetch("/api/neon/rls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"test"})}),t=await e.json();t.success?tN.success("RLS tests completed successfully"):tN.error(t.error||"RLS tests failed")}catch(e){console.error("Error testing RLS:",e),tN.error("Error testing RLS")}finally{h(!1)}},T=async(e=30)=>{if(confirm(`Are you sure you want to delete audit logs older than ${e} days?`)){h(!0);try{let t=await fetch(`/api/neon/rls?days=${e}`,{method:"DELETE"}),a=await t.json();a.success?(tN.success("Audit logs cleaned up successfully"),await w()):tN.error(a.error||"Failed to cleanup audit logs")}catch(e){console.error("Error cleaning up audit logs:",e),tN.error("Error cleaning up audit logs")}finally{h(!1)}}},E=async()=>{h(!0);try{await Promise.all([b(),w(),j(),S()]),tN.success("Data refreshed successfully")}catch(e){tN.error("Error refreshing data")}finally{h(!1)}},M=e=>{switch(e){case"INSERT":return"bg-green-100 text-green-800";case"UPDATE":return"bg-blue-100 text-blue-800";case"DELETE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"RLS Security Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage Row Level Security configuration"})]}),r.jsx("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(n.z,{variant:"outline",size:"sm",onClick:E,disabled:m,children:[r.jsx(to.Z,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),"Refresh"]})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(o.ll,{className:"text-sm font-medium",children:"RLS Status"}),e?.isConfigured?r.jsx(tn,{className:"h-4 w-4 text-green-600"}):r.jsx(ti,{className:"h-4 w-4 text-red-600"})]}),(0,r.jsxs)(o.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:r.jsx("span",{className:e?.isConfigured?"text-green-600":"text-red-600",children:e?.isConfigured?"Configured":"Not Configured"})}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e?.tablesWithRLS.length||0," tables protected"]})]})]}),(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(o.ll,{className:"text-sm font-medium",children:"Security Policies"}),r.jsx(tl.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e?.policiesCount||0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Active security policies"})]})]}),(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(o.ll,{className:"text-sm font-medium",children:"Audit Logs"}),r.jsx(td.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:a.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Recent activity records"})]})]}),(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(o.ll,{className:"text-sm font-medium",children:"Access Stats"}),r.jsx(tc.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:p.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique access patterns"})]})]})]}),!e?.isConfigured&&(0,r.jsxs)(l.bZ,{children:[r.jsx(ti,{className:"h-4 w-4"}),r.jsx(l.X,{children:'Row Level Security is not configured. Click "Setup RLS" to configure security policies.'})]}),(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(o.ll,{children:"Configuration Management"}),r.jsx(o.SZ,{children:"Manage RLS configuration and security policies"})]}),r.jsx(o.aY,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(n.z,{onClick:()=>C(!1),disabled:m,variant:e?.isConfigured?"outline":"default",children:[r.jsx(tu.Z,{className:"h-4 w-4 mr-2"}),"Setup RLS"]}),(0,r.jsxs)(n.z,{onClick:()=>C(!0),disabled:m,variant:"outline",children:[r.jsx(tp,{className:"h-4 w-4 mr-2"}),"Force Reconfigure"]}),(0,r.jsxs)(n.z,{onClick:R,disabled:m,variant:"outline",children:[r.jsx(tf,{className:"h-4 w-4 mr-2"}),"Test RLS"]}),(0,r.jsxs)(n.z,{onClick:k,disabled:m,variant:"destructive",children:[r.jsx(tm,{className:"h-4 w-4 mr-2"}),"Reset RLS"]})]})})]}),(0,r.jsxs)(N,{value:x,onValueChange:g,children:[(0,r.jsxs)(D,{children:[r.jsx(I,{value:"overview",children:"Overview"}),r.jsx(I,{value:"policies",children:"Security Policies"}),r.jsx(I,{value:"audit",children:"Audit Logs"}),r.jsx(I,{value:"stats",children:"Access Statistics"})]}),r.jsx(A,{value:"overview",className:"space-y-4",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(o.ll,{children:"Protected Tables"}),r.jsx(o.SZ,{children:"Tables with Row Level Security enabled"})]}),r.jsx(o.aY,{children:r.jsx("div",{className:"grid gap-2",children:e?.tablesWithRLS.map(e=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[r.jsx("span",{className:"font-medium",children:e}),r.jsxs(i.C,{variant:"secondary",children:[r.jsx(th.Z,{className:"h-3 w-3 mr-1"}),"Protected"]})]},e))})})]})}),r.jsx(A,{value:"policies",className:"space-y-4",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(o.ll,{children:"Security Policies"}),r.jsx(o.SZ,{children:"Active RLS policies and their configurations"})]}),r.jsx(o.aY,{children:(0,r.jsxs)(V,{children:[r.jsx(_,{children:(0,r.jsxs)(O,{children:[r.jsx(Z,{children:"Table"}),r.jsx(Z,{children:"Policy Name"}),r.jsx(Z,{children:"Command"}),r.jsx(Z,{children:"Roles"}),r.jsx(Z,{children:"Type"})]})}),r.jsx(z,{children:c.map((e,t)=>(0,r.jsxs)(O,{children:[r.jsx(F,{className:"font-medium",children:e.tablename}),r.jsx(F,{children:e.policyname}),r.jsx(F,{children:r.jsx(i.C,{variant:"outline",children:e.cmd})}),r.jsx(F,{children:e.roles?.join(", ")||"All"}),r.jsx(F,{children:r.jsx(i.C,{variant:"PERMISSIVE"===e.permissive?"default":"secondary",children:e.permissive})})]},e.schemaname+e.tablename+e.policyname))})]})})]})}),r.jsx(A,{value:"audit",className:"space-y-4",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(o.ll,{children:"Audit Logs"}),r.jsx(o.SZ,{children:"Database activity monitoring and security audit trail"})]}),(0,r.jsxs)(o.aY,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(U.I,{placeholder:"Filter by User ID",value:y.userId,onChange:e=>v(t=>({...t,userId:e.target.value})),className:"max-w-xs"}),(0,r.jsxs)(eg,{value:y.tableName,onValueChange:e=>v(t=>({...t,tableName:e})),children:[r.jsx(te,{className:"max-w-xs",children:r.jsx(ew,{placeholder:"Filter by Table"})}),(0,r.jsxs)(tr,{children:[r.jsx(ts,{value:"",children:"All Tables"}),r.jsx(ts,{value:"User",children:"User"}),r.jsx(ts,{value:"Patient",children:"Patient"}),r.jsx(ts,{value:"Appointment",children:"Appointment"}),r.jsx(ts,{value:"PainPoint",children:"PainPoint"}),r.jsx(ts,{value:"MetricResult",children:"MetricResult"}),r.jsx(ts,{value:"SoapNote",children:"SoapNote"})]})]}),(0,r.jsxs)(eg,{value:y.operation,onValueChange:e=>v(t=>({...t,operation:e})),children:[r.jsx(te,{className:"max-w-xs",children:r.jsx(ew,{placeholder:"Filter by Operation"})}),(0,r.jsxs)(tr,{children:[r.jsx(ts,{value:"",children:"All Operations"}),r.jsx(ts,{value:"INSERT",children:"INSERT"}),r.jsx(ts,{value:"UPDATE",children:"UPDATE"}),r.jsx(ts,{value:"DELETE",children:"DELETE"})]})]}),(0,r.jsxs)(n.z,{variant:"outline",size:"sm",onClick:w,children:[r.jsx(tx.Z,{className:"h-4 w-4 mr-2"}),"Apply Filters"]}),(0,r.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([["ID,Table,Operation,User ID,User Role,Timestamp",...a.map(e=>[e.id,e.table_name,e.operation,e.user_id,e.user_role,e.timestamp].join(","))].join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,r.click(),URL.revokeObjectURL(t)},children:[r.jsx(tg,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,r.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>T(30),children:[r.jsx(tm,{className:"h-4 w-4 mr-2"}),"Cleanup"]})]}),(0,r.jsxs)(V,{children:[r.jsx(_,{children:(0,r.jsxs)(O,{children:[r.jsx(Z,{children:"Timestamp"}),r.jsx(Z,{children:"Table"}),r.jsx(Z,{children:"Operation"}),r.jsx(Z,{children:"User"}),r.jsx(Z,{children:"Role"}),r.jsx(Z,{children:"Actions"})]})}),r.jsx(z,{children:a.map(e=>(0,r.jsxs)(O,{children:[r.jsx(F,{className:"text-sm",children:new Date(e.timestamp).toLocaleString()}),r.jsx(F,{className:"font-medium",children:e.table_name}),r.jsx(F,{children:r.jsx(i.C,{className:M(e.operation),children:e.operation})}),r.jsx(F,{className:"text-sm",children:e.user_id}),r.jsx(F,{children:r.jsx(i.C,{variant:"outline",children:e.user_role})}),r.jsx(F,{children:r.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>{tN.info("Check console for detailed log information")},children:r.jsx(ty,{className:"h-4 w-4"})})})]},e.id))})]})]})]})}),r.jsx(A,{value:"stats",className:"space-y-4",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(o.ll,{children:"Access Statistics"}),r.jsx(o.SZ,{children:"User access patterns and database usage statistics (last 7 days)"})]}),r.jsx(o.aY,{children:(0,r.jsxs)(V,{children:[r.jsx(_,{children:(0,r.jsxs)(O,{children:[r.jsx(Z,{children:"User Role"}),r.jsx(Z,{children:"Table"}),r.jsx(Z,{children:"Operation"}),r.jsx(Z,{children:"Count"}),r.jsx(Z,{children:"Last Access"})]})}),r.jsx(z,{children:p.map((e,t)=>(0,r.jsxs)(O,{children:[r.jsx(F,{children:r.jsx(i.C,{variant:"outline",children:e.user_role})}),r.jsx(F,{className:"font-medium",children:e.table_name}),r.jsx(F,{children:r.jsx(i.C,{className:M(e.operation),children:e.operation})}),r.jsx(F,{className:"text-right",children:e.operation_count}),r.jsx(F,{className:"text-sm",children:new Date(e.last_access).toLocaleString()})]},e.user_role+e.table_name+e.operation+e.last_access))})]})})]})})]})]})}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}")},43273:(e,t,a)=>{"use strict";a.d(t,{X:()=>d,bZ:()=>l});var r=a(10326),s=a(17577),o=a(79360),n=a(77863);let i=(0,o.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef(({className:e,variant:t,...a},s)=>r.jsx("div",{ref:s,role:"alert",className:(0,n.cn)(i({variant:t}),e),...a}));l.displayName="Alert",s.forwardRef(({className:e,...t},a)=>r.jsx("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));d.displayName="AlertDescription"},33071:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>i,SZ:()=>d,Zb:()=>n,aY:()=>c,ll:()=>l});var r=a(10326),s=a(17577),o=a(77863);let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},54432:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var r=a(10326),s=a(17577),o=a(77863);let n=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));n.displayName="Input"},41137:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},21405:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7422:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>i});var r=a(19510),s=a(58585),o=a(90455);let n=(0,a(68570).createProxy)(String.raw`C:\Users\amand\Rafael\aifisio\fisioflow-aistudio\components\rls-security-dashboard.tsx#RLSSecurityDashboard`),i={title:"Security Dashboard | FisioFlow",description:"Row Level Security monitoring and management dashboard"};async function l(){let e=await (0,o.I8)();return e||(0,s.redirect)("/auth/signin"),"Admin"!==e.user.role&&(0,s.redirect)("/dashboard"),r.jsx("div",{className:"container mx-auto py-6",children:r.jsx(n,{})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,70,984,318,651,325,83,237,119],()=>a(10554));module.exports=r})();