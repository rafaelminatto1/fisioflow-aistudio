(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{67:e=>{"use strict";e.exports=require("node:async_hooks")},195:e=>{"use strict";e.exports=require("node:buffer")},307:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a={};t.r(a),t.d(a,{config:()=>i,middleware:()=>o}),t(350);var n=t(137),s=t(58);async function o(e){let r=Date.now();try{let t=new URL(e.url);if("/health"===t.pathname){let e={status:"healthy",timestamp:new Date().toISOString(),cache:"enabled",middleware:"active"};return s.xk.json(e,{status:200,headers:{"Cache-Control":"public, max-age=60","Content-Type":"application/json","X-Cache":"MISS"}})}let a=s.xk.next();return a.headers.set("X-Response-Time",`${Date.now()-r}ms`),a.headers.set("X-Cache","MISS"),a}catch(e){return console.error("Middleware error:",e),s.xk.json({error:"Internal server error"},{status:500})}}let i={matcher:["/((?!_next/static|_next/image|favicon.ico|public/).*)"]},d={...a},l=d.middleware||d.default,c="/middleware";if("function"!=typeof l)throw Error(`The Middleware "${c}" must export a \`middleware\` or a \`default\` function`);function u(e){return(0,n.C)({...e,page:c,handler:l})}}},e=>{var r=r=>e(e.s=r);e.O(0,[216],()=>r(307));var t=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_middleware=t}]);
//# sourceMappingURL=middleware.js.map